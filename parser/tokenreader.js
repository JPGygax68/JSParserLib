define( function() {    function TokenReader(root_rule, source) {        this.root_rule = root_rule;        this.source = source;    }        TokenReader.prototype.currentElement = function() {    }        TokenReader.prototype.consumeCurrentElement = function() {    }        TokenReader.prototype._fetchNextElement = function() {        this.current_element = root_rule.call(root_rule, this.source);        return this.current_element; // just in case    }        return TokenReader; // we return the constructor function} );